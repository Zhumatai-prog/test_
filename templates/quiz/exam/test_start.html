{% extends 'home.html' %}
{% load static %}
{% block content %}



<div class="jumbotron my-4">

  <form class="form" autocomplete="off" onsubmit="return saveAns()"  action="/student/calculate-marks" method="POST">
    {% csrf_token %}
    <h1 style="text-align: center;">{{ topic.topic_name }}</h1>
    {% for q in questions%}
    <h3 class="text-info">{{ forloop.counter }}. {{q.question}}</h3><h4 style="text-align: right;">[Marks {{q.marks}}]</h4>

        <!--<input type="hidden" name="csrfmiddlewaretoken" value="C24rUotmdHawVQJL3KrqiWxvti8UffOFYUc8TRbZtLt36AVLdP3jbkzUVe3beRAa">-->

        {% if q.option1|length %}
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.option1}}" value="Option1">
            <label class="form-check-label" for="option1">
              {{q.option1}}
            </label>
          </div>


          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.option2}}" value="Option2">
            <label class="form-check-label" for="option2">
              {{q.option2}}
            </label>
          </div>


          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.option3}}" value="Option3">
            <label class="form-check-label" for="option3">
              {{q.option3}}
            </label>
          </div>


          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.option4}}" value="Option4">
            <label class="form-check-label" for="option4">
              {{q.option4}}
            </label>
          </div>

          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.option4}}" value="Option1">
            <label class="form-check-label" for="option5">
              {{q.option5}}
            </label>
          </div>
          {% else %}
          {% endif %}
          {% if q.picture1|length %}
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.picture1}}" value="Option1">
            <label class="form-check-label" for="picture1">
              {{q.picture1}}
            </label>
          </div>

          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.picture2}}" value="Option1">
            <label class="form-check-label" for="picture2">
              {{q.picture2}}
            </label>
          </div>

          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.picture3}}" value="Option1">
            <label class="form-check-label" for="picture3">
              {{q.picture3}}
            </label>
          </div>

          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.picture4}}" value="Option1">
            <label class="form-check-label" for="picture4">
              {{q.picture4}}
            </label>
          </div>

          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.picture5}}" value="Option1">
            <label class="form-check-label" for="picture5">
              {{q.picture5}}
            </label>
          </div>
          {% else %}
          {% endif %}
          {% if q.entry_answer|length %}
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ forloop.counter }}" id="{{q.entry}}" value="Option1">
            <label class="form-check-label" for="entry">
              {{q.entry}}
            </label>
          </div>
          {% else %}
          {% endif %}
        {% endfor %}
        <input class="btn btn-info btn-lg"   type="submit" value="Submit">
        <br>
        <br>
    </form>
  </div>

<script>
    function saveAns(){

        var ele = document.getElementsByTagName('input');
        for(i = 0; i < ele.length; i++) {
            if(ele[i].type="radio") {
                if(ele[i].checked){
                  setCookie(ele[i].name,ele[i].value,3)
                }
            }
        }

    }

    function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  var expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

</script>

<br><br><br><br><br><br>
{% endblock content %}
